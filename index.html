
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infinity Clicker</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap">
    <style>
        body, button, #coin img {
            -webkit-user-select: none; /* Chrome/Safari/Opera */
            -moz-user-select: none; /* Firefox */
            -ms-user-select: none; /* Internet Explorer/Edge */
            user-select: none; /* Нестандартизированный, но широко поддерживаемый */
        }
        #coin img {
            -webkit-tap-highlight-color: transparent; /* Убирает подсветку при касании на iOS/Android */
        }

        .coin-wrapper, #coin img {
            cursor: pointer;
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0); /* для прозрачного цвета */
            outline: none; /* Убирает контур вокруг элементов при нажатии */
        }

        #coin img:active {
            transform: scale(0.9); /* Эффект "нажатия" */
            transition: transform 0.1s; /* Плавный переход */
        }
        
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            overflow: hidden;
            background: linear-gradient(to bottom, #FFA500, #FF4500, #FFD700);
        }

        #clicker-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }

        #score {
            position: absolute;
            font-size: 38px;
            margin-bottom: 20px;
            margin-top: -480px;
            font-weight: bold;
            color: white;
        }

        .coin-wrapper {
            position: absolute;
            margin-top: -20px;
            cursor: pointer;
        }

        #coin img {

            width: 250px;
            height: 250px;
        }

         #progress-container {
            position: absolute;
            width: 80%;
            max-width: 380px;
            height: 10px;
            margin-top: 510px; /* Increased from 60px to 100px to push down by 40px */
            position: relative;
            background-color: #fff;
            border-radius: 5px;
        }

        #progress-value {
            height: 100%;
            border-radius: 10px;
            background: linear-gradient(to right,#FFC0CB,  #FFA07A,  #FFD700);
            transition: width 0.5s ease-in-out;
        }


        #charge-label {
            position: absolute;
            top: -25px; /* If it was -25px and you want to move it down by 40px, you add 40 to -25 */
            left: 0;
            color: white;
            font-weight: bold;
        }

        #reset-button {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 10px;
            background-color: #fff;
            color: #000;
            cursor: pointer;
            border: 1px solid #000;
            border-radius: 5px;
        }

        #shop-button {
            position: absolute;
            margin-top: 640px;
            padding: 10px 30px; /* Увеличение размера */
            background: linear-gradient(to right top, #4CAF50, #00FF00);
            color: #fff;
            cursor: pointer;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem; /* Увеличение шрифта */
        }

        #shop-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 300px;
            height: auto;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }

        #close-button {
            cursor: pointer;
            position: absolute;
            top: 10px;
            right: 10px;
        }

        .shop-item {
            margin: 20px 0;
        }

        .buy-button {
            padding: 5px 10px;
            background-color: #4CAF50;
            color: #fff;
            cursor: pointer;
            border: none;
            border-radius: 5px;
        }

        body, button, #coin img {
            -webkit-user-select: none; /* Safari */
            -moz-user-select: none; /* Firefox */
            -ms-user-select: none; /* IE10+/Edge */
            user-select: none; /* Стандартный синтаксис */
        }

        #coin img:active {
            transform: scale(0.9); /* Уменьшаем размер монеты до 90% при нажатии */
            transition: transform 0.1s; /* Сглаживаем переход */
        }
        button, #coin img {
            outline: none; /* Убирает контур при фокусировке */
            -webkit-tap-highlight-color: transparent; /* Убирает синий фон при нажатии в iOS и Android */
        }
        
        button:active, #coin img:active {
            outline: none;
        }
        
        /* Опционально, для предотвращения любых "нажатий" на мобильных устройствах */
        body, button, #coin img {
            touch-action: manipulation;
        }

    </style>
</head>
<body>
    <div id="clicker-container">
        <div id="score">0</div>
        <div class="coin-wrapper" id="coin"><img src="INFTCOIN.png" alt="Coin"></div>
        <div id="progress-container">
            <div id="charge-label">⚡️ 1000/1000</div>
            <div id="progress-value" style="width: 100%;"></div>
        </div>
        <div id="reset-button" onclick="resetGame()">Reset</div>
        <button id="shop-button" onclick="openShop()">Shop</button>
        <div id="shop-modal">
            <div id="close-button" onclick="closeShop()">⤫</div>
            <div class="shop-item">
                <div>Click Upgrade (+1 per click)</div>
                <div>Cost: <span id="clickUpgradeCost">10</span> coins</div>
                <button class="buy-button" onclick="buyClickUpgrade()">Buy</button>
            </div>
            <div class="shop-item">
                <div>Charge Speed Upgrade (faster recharge)</div>
                <div>Cost: <span id="chargeSpeedCost">20</span> coins</div>
                <button class="buy-button" onclick="buyChargeSpeedUpgrade()">Buy</button>
            </div>
            <div class="shop-item">
                <div>Charge Capacity Upgrade (+250 max charge)</div>
                <div>Cost: <span id="chargeCapacityCost">30</span> coins</div>
                <button class="buy-button" onclick="buyChargeCapacityUpgrade()">Buy</button>
            </div>
        </div>
    </div>
<script>
document.addEventListener('DOMContentLoaded', function() {
    let score = parseInt(localStorage.getItem('score') || '0');
    let charge = parseInt(localStorage.getItem('charge') || '1000');
    let clickUpgrade = parseInt(localStorage.getItem('clickUpgrade') || '1');
    let chargeUpgradeCost = parseInt(localStorage.getItem('chargeUpgradeCost') || '750');
    let clickUpgradeCost = parseInt(localStorage.getItem('clickUpgradeCost') || '100');
    let chargeSpeed = parseInt(localStorage.getItem('chargeSpeed') || '2000');
    let chargeCapacity = parseInt(localStorage.getItem('chargeCapacity') || '1000');
    let chargeCapacityCost = parseInt(localStorage.getItem('chargeCapacityCost') || '500');
    let chargeIncrement = parseInt(localStorage.getItem('chargeIncrement') || '7');

    // Расчет восстановленной энергии при загрузке страницы
    const lastUpdateTime = parseInt(localStorage.getItem('lastUpdateTime') || Date.now());
    const currentTime = Date.now();
    const timePassed = currentTime - lastUpdateTime;
    const energyRecovered = Math.floor(timePassed / chargeSpeed) * chargeIncrement;
    charge = Math.min(charge + energyRecovered, chargeCapacity);

    localStorage.setItem('lastUpdateTime', currentTime.toString());

    const scoreDisplay = document.getElementById('score');
    const progressBar = document.getElementById('progress-value');
    const chargeLabel = document.getElementById('charge-label');
    const coinWrapper = document.getElementById('coin');

    coinWrapper.addEventListener('click', function() {
        let costPerClick = clickUpgrade + 1;
        if (charge >= costPerClick) {
            score += clickUpgrade;
            charge -= costPerClick;
            updateGame();
        }
    });

    function updateGame() {
        localStorage.setItem('score', score.toString());
        localStorage.setItem('charge', charge.toString());
        localStorage.setItem('clickUpgradeCost', clickUpgradeCost.toString());
        localStorage.setItem('lastUpdateTime', Date.now().toString());

        scoreDisplay.textContent = score;
        document.getElementById('clickUpgradeCost').textContent = clickUpgradeCost;
        document.getElementById('chargeSpeedCost').textContent = chargeUpgradeCost;
        document.getElementById('chargeCapacityCost').textContent = chargeCapacityCost;

        updateProgressBar();
    }

    function updateProgressBar() {
        const progressPercentage = Math.min((charge / chargeCapacity) * 100, 100);
        progressBar.style.width = `${progressPercentage}%`;
        chargeLabel.textContent = `⚡️ ${charge}/${chargeCapacity}`;
    }

    setInterval(function() {
        if (charge < chargeCapacity) {
            charge += chargeIncrement;
            if (charge > chargeCapacity) charge = chargeCapacity;
            updateProgressBar();
        }
    }, chargeSpeed);

    window.resetGame = function() {
        localStorage.clear();
        window.location.reload();
    }

    window.openShop = function() {
        document.getElementById('shop-modal').style.display = 'block';
    }

    window.closeShop = function() {
        document.getElementById('shop-modal').style.display = 'none';
    }

    window.buyClickUpgrade = function() {
        if (score >= clickUpgradeCost) {
            score -= clickUpgradeCost;
            clickUpgrade++;
            clickUpgradeCost *= 2;
            updateGame();
        }
    }

    window.buyChargeSpeedUpgrade = function() {
        if (score >= chargeUpgradeCost) {
            score -= chargeUpgradeCost;
            chargeIncrement += 5;
            chargeUpgradeCost *= 2;
            updateGame();
        }
    }

    window.buyChargeCapacityUpgrade = function() {
        if (score >= chargeCapacityCost) {
            score -= chargeCapacityCost;
            chargeCapacity += 250;
            chargeCapacityCost *= 2;
            updateGame();
        }
    }

    updateGame();
});


</script>
</body>
</html>






